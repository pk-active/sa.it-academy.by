## 13.Docker.Landing

### Dockerfile

```
FROM centos

LABEL maintainer="plaxaoleg@gmail.com"

RUN \
  yum install epel-release -y && \
  yum update -y && \
  yum install python3-pip -y && \
  pip3 install flask

COPY myapp.py /tmp/myapp.py

CMD ["python3", "/tmp/myapp.py"]

EXPOSE 7777
```

### myapp.py

```
from flask import Flask
app = Flask(__name__)

@app.route('/')
def index():
    return "Hello, this is little flask application!"

if __name__ == "__main__":
    app.run(host='0.0.0.0', port=7777)
```

### Doker command & log

```
[mel1@Centos ~/13_Docker_Landing/01]$ docker build -t centos:myapp . | grep -E "Step|Succes|--->"

Step 1/6 : FROM centos
 ---> 0f3e07c0138f
Step 2/6 : LABEL maintainer="plaxaoleg@gmail.com"
 ---> Using cache
 ---> 8c40ce953f70
Step 3/6 : RUN   yum install epel-release -y &&   yum update -y &&   yum install python3-pip -y &&   pip3 install flask
 ---> Using cache
 ---> 9cc0540b70b2
Step 4/6 : COPY myapp.py /tmp/myapp.py
 ---> Using cache
 ---> 1b7a3d948e1d
Step 5/6 : CMD ["python3", "/tmp/myapp.py"]
 ---> Using cache
 ---> 8d0e2d95f4c2
Step 6/6 : EXPOSE 7777
 ---> Using cache
 ---> 5c078dbddb3c
Successfully built 5c078dbddb3c
Successfully tagged centos:myapp


[mel1@Centos ~/13_Docker_Landing/01]$ docker run -d -p 8888:7777 centos:myapp
4f7f9d322ae53e509b96c73589ce8a67f754d238dd7458ab23d627feb04d1211

[mel1@Centos ~/13_Docker_Landing/01]$ curl http://localhost:8888
Hello, this is little flask application!

[mel1@Centos ~/13_Docker_Landing/01]$ docker build -t olegarh/centos8:myapp.py .

[mel1@Centos ~/13_Docker_Landing/01]$ docker push olegarh/centos8:myapp.py
The push refers to repository [docker.io/olegarh/centos8]
caed7e6ff890: Pushed
d5dc6914d968: Pushed
9e607bb861a7: Mounted from library/centos
myapp.py: digest: sha256:899513808bccc18754ca57fe9f9fbb1b0a8baee10cfb67aeef6ed7eae9be26be size: 948
```

### Application

![alt text](https://github.com/OlegPlaxa/sa.it-academy.by/blob/m-sa2-10-19/olegplaxa/13.Docker.Landing/flask.PNG)

### Dockerhub

Repository hub.docker.com [olegarh](https://hub.docker.com/repository/docker/olegarh/centos8)